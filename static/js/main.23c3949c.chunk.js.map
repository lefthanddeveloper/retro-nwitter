{"version":3,"sources":["firebase.js","routes/CreateAccount.js","components/Nweet.js","components/NweetContainer.js","components/NweetForm.js","routes/Home.js","routes/Login.js","routes/Profile.js","components/NavBar.js","components/Route.js","components/App.js","index.js"],"names":["firebaseAppAuth","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firebaseAuth","firebaseFireStore","store","fireStore","firebaseAppStorage","storage","firebaseStorage","CreateAccount","useState","email","setEmail","password","setPassword","displayName","setDisplayName","confirm","setConfirm","error","setError","isMouseOver","setIsMouseOver","history","useHistory","onChange","event","target","name","value","onSubmit","a","preventDefault","alert","createUserWithEmailAndPassword","then","result","updateProfile","user","push","message","className","type","placeholder","required","minLength","onMouseOver","onMouseOut","Nweet","nweetObj","isOwner","onClickDelete","window","attachmentUrl","attachmentRef","ref","deleteObject","deleteDoc","doc","id","creatorDisplayName","text","Date","createdAt","toLocaleDateString","toLocaleTimeString","onClick","src","NweetContainer","userObj","isProfile","nweets","setNweets","useEffect","q","newNweets","query","collection","where","uid","orderBy","onSnapshot","snapShot","docs","map","data","nweet","creatorId","NweetForm","isLoggedIn","setNweet","attachment","setAttachment","theImage","e","uuidv4","uploadString","response","getDownloadURL","now","console","log","addDoc","accept","files","length","theFile","reader","FileReader","onloadend","finishedEvent","currentTarget","readAsDataURL","Home","Login","onClickSocialLogin","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","catch","code","signInWithEmailAndPassword","to","Profile","getMyNweets","getDocs","forEach","onClickLogOut","signOut","NavBar","AppRouter","exact","path","App","init","setInit","currentUser","setIsLoggedIn","setUserObj","onAuthStateChanged","getFullYear","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iYA6BaA,GADcC,YAnBJ,CACrBC,OAAQC,0CACRC,WAAYD,gCACZE,UAAWF,gBACXG,cAAeH,4BACfI,kBAAmBJ,eACnBK,MAAOL,4CACPM,cAAeN,iBAacO,GAClBC,EAAeD,YACfE,EAAoBC,EACpBC,EAAYD,iBACZE,EAAqBC,EACrBC,EAAkBD,e,8CC+EhBE,MA7Gf,WACE,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAAsCJ,mBAAS,IAA/C,mBAAOK,EAAP,KAAoBC,EAApB,KACA,EAA8BN,mBAAS,IAAvC,mBAAOO,EAAP,KAAgBC,EAAhB,KACA,EAA0BR,mBAAS,IAAnC,mBAAOS,EAAP,KAAcC,EAAd,KACA,EAAsCV,oBAAS,GAA/C,mBAAOW,EAAP,KAAoBC,EAApB,KAEMC,EAAUC,cACVC,EAAW,SAACC,GAChB,MAEIA,EADFC,OAAUC,EADZ,EACYA,KAAMC,EADlB,EACkBA,MAGL,UAATD,EACFhB,EAASiB,GACS,aAATD,EACTd,EAAYe,GACM,YAATD,EACTV,EAAWW,GACO,gBAATD,GACTZ,EAAea,IAIbC,EAAQ,uCAAG,WAAOJ,GAAP,SAAAK,EAAA,yDACfL,EAAMM,iBACFnB,IAAaI,EAFF,uBAGbgB,MAAM,sBAHO,0BAOf,IACE1C,EACG2C,+BAA+BhC,EAAcS,EAAOE,GACpDsB,MAAK,SAACC,GAEL7C,EACG8C,cAAcD,EAAOE,KAAM,CAC1BvB,YAAaA,IAEdoB,MAAK,WACJZ,EAAQgB,KAAK,WAGrB,MAAOpB,GACPC,EAASD,EAAMqB,SArBF,2CAAH,sDAwBd,OACE,qCACE,uBAAMV,SAAUA,EAAUW,UAAU,aAApC,UACE,uBACEA,UAAU,aACVb,KAAK,QACLc,KAAK,OACLC,YAAY,oBACZd,MAAOlB,EACPc,SAAUA,EACVmB,UAAQ,IAEV,uBACEH,UAAU,aACVb,KAAK,WACLc,KAAK,WACLC,YAAY,WACZd,MAAOhB,EACPY,SAAUA,EACVoB,UAAU,IACVD,UAAQ,IAEV,uBACEH,UAAU,aACVb,KAAK,UACLc,KAAK,WACLC,YAAY,mBACZd,MAAOZ,EACPQ,SAAUA,EACVoB,UAAU,IACVD,UAAQ,IAEV,uBACEH,UAAU,aACVC,KAAK,OACLC,YAAY,eACZf,KAAK,cACLC,MAAOd,EACPU,SAAUA,EACVmB,UAAQ,IAEV,uBACEH,UAAS,sBACPpB,EAAc,kBAAoB,kBAEpCqB,KAAK,SACLb,MAAM,SACNiB,YAAa,WACXxB,GAAe,IAEjByB,WAAY,WACVzB,GAAe,SAIrB,+BAAOH,Q,sBCpDE6B,MA9Cf,YAAuC,IAAtBC,EAAqB,EAArBA,SAAUC,EAAW,EAAXA,QACnBC,EAAa,uCAAG,8BAAApB,EAAA,0DACTqB,OAAOnC,QAAQ,oCADN,mBAGa,KAA3BgC,EAASI,cAHK,uBAIV9C,EAAUC,EACV8C,EAAgBhD,EAAmBiD,IACvChD,EACA0C,EAASI,eAPK,SASV/C,EAAmBkD,aAAaF,GATtB,uBAYZnD,EAAkBsD,UACtBtD,EAAkBuD,IAAIrD,EAAW,SAAU4C,EAASU,KAbpC,2CAAH,qDAkBnB,OACE,sBAAKlB,UAAU,WAAf,UACE,sBAAKA,UAAU,eAAf,UACE,sBAAMA,UAAU,YAAhB,qBAAkCQ,EAASW,mBAA3C,cAAmEX,EAASY,QAC5E,uBAAMpB,UAAU,iBAAhB,wBAEM,IAAIqB,KAAKb,EAASc,WAAWC,qBAFnC,YAE2D,IAAIF,KAC3Db,EAASc,WACTE,sBAJJ,OAOCf,GACC,mCACE,cAAC,IAAD,CACET,UAAU,YACVyB,QAASf,SAKhBF,EAASI,eACR,qBAAKZ,UAAU,aAAa0B,IAAKlB,EAASI,oBCenCe,MA7Df,YAAiD,IAAvBC,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,UACjC,EAA4B5D,mBAAS,IAArC,mBAAO6D,EAAP,KAAeC,EAAf,KA+CA,OA7BAC,qBAAU,WAER,IAAIC,EAYAC,EALFD,EANGJ,EAMCnE,EAAkByE,MACpBzE,EAAkB0E,WAAWxE,EAAW,UACxCF,EAAkB2E,MAAM,YAAa,KAAMT,EAAQU,MAPjD5E,EAAkByE,MACpBzE,EAAkB0E,WAAWxE,EAAW,UACxCF,EAAkB6E,QAAQ,cAS9B7E,EAAkB8E,WAAWP,GAAG,SAACQ,GAC/BP,EAAYO,EAASC,KAAKC,KAAI,SAAC1B,GAAD,oBAC5BC,GAAID,EAAIC,IACLD,EAAI2B,WAOTb,EAAUG,QAEX,IAGD,qBAAKlC,UAAU,iBAAf,SACG8B,EAAOa,KAAI,SAACE,GAAD,OACV,cAAC,EAAD,CAEErC,SAAUqC,EACVpC,QAASmB,GAAWA,EAAQU,MAAQO,EAAMC,WAFrCD,EAAM3B,U,wBCgGN6B,MA5If,YAA6C,IAAxBC,EAAuB,EAAvBA,WAAYpB,EAAW,EAAXA,QACzB9C,EAAUC,cAChB,EAA0Bd,mBAAS,IAAnC,mBAAO4E,EAAP,KAAcI,EAAd,KACA,EAAsChF,oBAAS,GAA/C,mBAAOW,EAAP,KAAoBC,EAApB,KACA,EAAoCZ,mBAAS,IAA7C,mBAAOiF,EAAP,KAAmBC,EAAnB,KAEMC,EAAW,qBAAK1B,IAAKwB,EAAYlD,UAAU,kBAgB3CX,EAAQ,uCAAG,WAAOgE,GAAP,qBAAA/D,EAAA,yDACf+D,EAAE9D,iBADa,SAITqB,EAAgB,GAEF,IAAdsC,EANS,wBAOLrC,EAAgBhD,EAAmBiD,IACvC/C,EADoB,UAEjB6D,EAAQU,IAFS,YAEFgB,gBATT,SAYYzF,EAAmB0F,aACxC1C,EACAqC,EACA,YAfS,cAYLM,EAZK,iBAkBW3F,EAAmB4F,eAAeD,EAAS1C,KAlBtD,QAkBXF,EAlBW,sBAqBPJ,EAAW,CACfY,KAAMyB,EACNvB,UAAWD,KAAKqC,MAChBvC,mBAAoBS,EAAQtD,YAC5BwE,UAAWlB,EAAQU,IACnB1B,iBAGF+C,QAAQC,IAAIpD,GA7BC,UA8BP9C,EAAkBmG,OACtBnG,EAAkB0E,WAAWxE,EAAW,UACxC4C,GAhCW,0DAmCbmD,QAAQjF,MAAM,iCAnCD,QAsCfuE,EAAS,IACTE,EAAc,IAvCC,0DAAH,sDAuEd,OACE,qBAAKnD,UAAU,YAAf,SACE,uBAAMX,SAAUA,EAAUW,UAAU,aAApC,UACE,sBAAKA,UAAU,YAAf,UACE,0BACEA,UAAU,aACVC,KAAK,WACLC,YAAY,2BACZC,UAAQ,EACRf,MAAOyD,EACP7D,SA/FO,SAACC,GAChB,IACYG,EACRH,EADFC,OAAUE,MAEZ6D,EAAS7D,IA4FDqC,QAzFM,SAACxC,GACV+D,IACHxD,MAAM,kBACNV,EAAQgB,KAAK,cAwFRoD,GACC,qCAEGE,EACD,wBAAQpD,UAAU,kBAAkByB,QArBrB,WACzB0B,EAAc,OAoBJ,qBAMN,sBAAKnD,UAAU,cAAf,UACE,wBAAOA,UAAU,cAAjB,UACE,cAAC,IAAD,CAA0BA,UAAU,cACpC,uBACEA,UAAU,cACVC,KAAK,OACL6D,OAAO,UACP9E,SAnDS,SAACC,GACpB,IACY8E,EACR9E,EADFC,OAAU6E,MAGZ,GAAqB,IAAjBA,EAAMC,OAAV,CACA,IAAMC,EAAUF,EAAM,GAChBG,EAAS,IAAIC,WACnBD,EAAOE,UAAY,SAACC,GAClB,IACmB1E,EACf0E,EADFC,cAAiB3E,OAEnBwD,EAAcxD,IAEhBuE,EAAOK,cAAcN,UAwCf,uBACEjE,UAAS,uBACPpB,EAAc,mBAAqB,mBAErCyB,YAlEU,WAClBxB,GAAe,IAkEPyB,WA/DS,WACjBzB,GAAe,IA+DPoB,KAAK,oB,MCnIFuE,MATf,YAAwC,IAAxBxB,EAAuB,EAAvBA,WAAYpB,EAAW,EAAXA,QAC1B,OACE,gCACE,cAAC,EAAD,CAAWoB,WAAYA,EAAYpB,QAASA,IAC5C,cAAC,EAAD,CAAgBA,QAASA,EAASC,WAAW,Q,MCgHpC4C,MAlHf,WACE,IAAM3F,EAAUC,cAChB,EAA0Bd,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAA0BJ,mBAAS,IAAnC,mBAAOS,EAAP,KAAcC,EAAd,KACA,EAAsCV,oBAAS,GAA/C,mBAAOW,EAAP,KAAoBC,EAApB,KAEMG,EAAW,SAACC,GAChB,MAEIA,EADFC,OAAUE,EADZ,EACYA,MAAOD,EADnB,EACmBA,KAGN,UAATA,EACFhB,EAASiB,GACS,aAATD,GACTd,EAAYe,IAgBVsF,EAAqB,SAACzF,GAC1B,IAGI0F,EAFQxF,EACRF,EADFC,OAAUC,KAGC,WAATA,EACFwF,EAAW,IAAI7H,EAAgB8H,mBACb,WAATzF,IACTwF,EAAW,IAAI7H,EAAgB+H,oBAGjC/H,EACGgI,gBAAgBrH,EAAckH,GAC9BjF,MAAK,SAACC,GACLgE,QAAQC,IAAIjE,GACZb,EAAQgB,KAAK,QAEdiF,OAAM,SAACrG,GACNC,EAASD,EAAMsG,UAUrB,OACE,qCACE,uBAAMhF,UAAU,aAAaX,SA1ChB,SAACgE,GAChBA,EAAE9D,iBACFzC,EACGmI,2BAA2BxH,EAAcS,EAAOE,GAChDsB,MAAK,SAACG,GACLf,EAAQgB,KAAK,QAEdiF,OAAM,SAACrG,GACNC,EAASD,EAAMsG,UAkCjB,UACE,uBACEhF,UAAU,aACVC,KAAK,QACLC,YAAY,QACZf,KAAK,QACLC,MAAOlB,EACPc,SAAUA,EACVmB,UAAQ,IAEV,uBACEH,UAAU,aACVC,KAAK,WACLC,YAAY,WACZf,KAAK,WACLC,MAAOhB,EACPY,SAAUA,EACVmB,UAAQ,IAEV,uBACEH,UAAS,sBACPpB,EAAc,kBAAoB,kBAEpCqB,KAAK,SACLb,MAAM,QACNiB,YAjCoB,WAC1BxB,GAAe,IAiCTyB,WA/BmB,WACzBzB,GAAe,SAiCb,sBAAKmB,UAAU,eAAf,UACE,wBACEA,UAAU,kBACVb,KAAK,SACLsC,QAASiD,EAHX,kCAOA,wBACE1E,UAAU,kBACVb,KAAK,SACLsC,QAASiD,EAHX,qCAQF,8BAAMhG,IACN,qBAAKsB,UAAU,oBAAf,SACE,cAAC,IAAD,CAAMkF,GAAG,iBAAT,kC,MC5DOC,MA3Cf,YAA+B,IAAZvD,EAAW,EAAXA,QACX9C,EAAUC,cAEVqG,EAAW,uCAAG,4BAAA9F,EAAA,6DACZ2C,EAAIvE,EAAkByE,MAC1BzE,EAAkB0E,WAAWxE,EAAW,UACxCF,EAAkB2E,MAAM,YAAa,KAAMT,EAAQU,KACnD5E,EAAkB6E,QAAQ,cAJV,SAOU7E,EAAkB2H,QAAQpD,GAPpC,cAQJqD,SAAQ,SAACrE,GACrB0C,QAAQC,IAAI3C,EAAI2B,WATA,2CAAH,qDAajBZ,qBAAU,WACRoD,MACC,IAEH,IAAMG,EAAa,uCAAG,sBAAAjG,EAAA,sEACdxC,EAAgB0I,QAAQ/H,GADV,OAEpB+B,MAAM,2BACNV,EAAQgB,KAAK,KAHO,2CAAH,qDAMnB,OACE,mCACE,sBAAKE,UAAU,UAAf,UACE,sBAAKA,UAAU,cAAf,UACG4B,GAAWA,EAAQtD,YADtB,cAGA,wBAAQmD,QAAS8D,EAAevF,UAAU,aAA1C,qBAGA,qBAAKA,UAAU,WAAf,4BACA,oBAAIA,UAAU,WACd,cAAC,EAAD,CAAgB4B,QAASA,EAASC,WAAW,U,MClBtC4D,MA1Bf,YAAiC,IAAfzC,EAAc,EAAdA,WAChB,OACE,qCACE,qBAAIhD,UAAU,YAAd,UACE,oBAAIA,UAAU,YAAd,SACE,cAAC,IAAD,CAAMkF,GAAG,IAAIlF,UAAU,cAAvB,6BAIF,oBAAIA,UAAU,YAAd,SACGgD,EACC,cAAC,IAAD,CAAMkC,GAAG,WAAWlF,UAAU,cAA9B,qBAIA,cAAC,IAAD,CAAMkF,GAAG,SAASlF,UAAU,cAA5B,wBAMN,oBAAIA,UAAU,oBCOL0F,EAxBG,SAAC,GAA6B,IAA3B1C,EAA0B,EAA1BA,WAAYpB,EAAc,EAAdA,QAC/B,OACE,mCACE,eAAC,IAAD,WACE,cAAC,EAAD,CAAQoB,WAAYA,IACpB,eAAC,IAAD,WACE,cAAC,IAAD,CAAO2C,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,EAAD,CAAM5C,WAAYA,EAAYpB,QAASA,MAEzC,cAAC,IAAD,CAAO+D,OAAK,EAACC,KAAK,WAAlB,SACE,cAAC,EAAD,CAAShE,QAASA,MAEpB,cAAC,IAAD,CAAO+D,OAAK,EAACC,KAAK,SAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,iBAAlB,SACE,cAAC,EAAD,eCUGC,MA7Bf,WACE,MAAwB5H,oBAAS,GAAjC,mBAAO6H,EAAP,KAAaC,EAAb,KACA,EAAoC9H,mBAASR,EAAauI,aAA1D,mBAAOhD,EAAP,KAAmBiD,EAAnB,KACA,EAA8BhI,mBAAS,MAAvC,mBAAO2D,EAAP,KAAgBsE,EAAhB,KAaA,OAJAlE,qBAAU,WAPRlF,EAAgBqJ,mBAAmB1I,GAAc,SAACoC,GAChDqG,EAAWrG,GACXoG,EAAcpG,GACdkG,GAAQ,QAMT,IAGD,sBAAK/F,UAAU,MAAf,UACG8F,EACC,cAAC,EAAD,CAAW9C,WAAYA,EAAYpB,QAASA,IAE5C,6CAGF,4CAAgB,IAAIP,MAAO+E,cAA3B,wBCxBNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.23c3949c.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport * as auth from \"firebase/auth\";\r\nimport * as store from \"firebase/firestore\";\r\nimport * as storage from \"firebase/storage\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APPID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID,\r\n\r\n  //   apiKey: \"AIzaSyA3Ic2rMaX2jXFZxb0n4bUGZ2192HbcUO0\",\r\n  //   authDomain: \"retro-nwitter.firebaseapp.com\",\r\n  //   projectId: \"retro-nwitter\",\r\n  //   storageBucket: \"retro-nwitter.appspot.com\",\r\n  //   messagingSenderId: \"661725137678\",\r\n  //   appId: \"1:661725137678:web:f365a2182789232835655f\",\r\n  //   measurementId: \"G-NJ5BTV4BSV\",\r\n};\r\n\r\n// Initialize Firebase\r\nexport const firebaseApp = initializeApp(firebaseConfig);\r\nexport const firebaseAppAuth = auth;\r\nexport const firebaseAuth = auth.getAuth();\r\nexport const firebaseFireStore = store;\r\nexport const fireStore = store.getFirestore();\r\nexport const firebaseAppStorage = storage;\r\nexport const firebaseStorage = storage.getStorage();\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { firebaseAppAuth, firebaseAuth } from \"../firebase\";\r\n\r\nfunction CreateAccount() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const [confirm, setConfirm] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [isMouseOver, setIsMouseOver] = useState(false);\r\n\r\n  const history = useHistory();\r\n  const onChange = (event) => {\r\n    const {\r\n      target: { name, value },\r\n    } = event;\r\n\r\n    if (name === \"email\") {\r\n      setEmail(value);\r\n    } else if (name === \"password\") {\r\n      setPassword(value);\r\n    } else if (name === \"confirm\") {\r\n      setConfirm(value);\r\n    } else if (name === \"displayName\") {\r\n      setDisplayName(value);\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (password !== confirm) {\r\n      alert(\"INCORRECT PASSWORD\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      firebaseAppAuth\r\n        .createUserWithEmailAndPassword(firebaseAuth, email, password)\r\n        .then((result) => {\r\n          //update display\r\n          firebaseAppAuth\r\n            .updateProfile(result.user, {\r\n              displayName: displayName,\r\n            })\r\n            .then(() => {\r\n              history.push(\"/\");\r\n            });\r\n        });\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit} className=\"form_Login\">\r\n        <input\r\n          className=\"form_input\"\r\n          name=\"email\"\r\n          type=\"text\"\r\n          placeholder=\"New Email Account\"\r\n          value={email}\r\n          onChange={onChange}\r\n          required\r\n        />\r\n        <input\r\n          className=\"form_input\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={onChange}\r\n          minLength=\"5\"\r\n          required\r\n        />\r\n        <input\r\n          className=\"form_input\"\r\n          name=\"confirm\"\r\n          type=\"password\"\r\n          placeholder=\"Confirm Password\"\r\n          value={confirm}\r\n          onChange={onChange}\r\n          minLength=\"5\"\r\n          required\r\n        />\r\n        <input\r\n          className=\"form_input\"\r\n          type=\"text\"\r\n          placeholder=\"Display Name\"\r\n          name=\"displayName\"\r\n          value={displayName}\r\n          onChange={onChange}\r\n          required\r\n        />\r\n        <input\r\n          className={`form_submit ${\r\n            isMouseOver ? \"login-mouseOver\" : \"login-mouseOut\"\r\n          }`}\r\n          type=\"submit\"\r\n          value=\"Create\"\r\n          onMouseOver={() => {\r\n            setIsMouseOver(true);\r\n          }}\r\n          onMouseOut={() => {\r\n            setIsMouseOver(false);\r\n          }}\r\n        />\r\n      </form>\r\n      <span>{error}</span>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CreateAccount;\r\n","import React from \"react\";\r\nimport * as BoxIcons from \"react-icons/bi\";\r\nimport {\r\n  firebaseAppStorage,\r\n  firebaseFireStore,\r\n  firebaseStorage,\r\n  fireStore,\r\n} from \"../firebase\";\r\nimport \"./Nweet.css\";\r\n\r\nfunction Nweet({ nweetObj, isOwner }) {\r\n  const onClickDelete = async () => {\r\n    const ok = window.confirm(\"Are you sure you want to delete?\");\r\n    if (ok) {\r\n      if (nweetObj.attachmentUrl !== \"\") {\r\n        const storage = firebaseStorage;\r\n        const attachmentRef = firebaseAppStorage.ref(\r\n          storage,\r\n          nweetObj.attachmentUrl\r\n        );\r\n        await firebaseAppStorage.deleteObject(attachmentRef);\r\n      }\r\n\r\n      await firebaseFireStore.deleteDoc(\r\n        firebaseFireStore.doc(fireStore, \"nweets\", nweetObj.id)\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"nweetObj\">\r\n      <div className=\"nweetContent\">\r\n        <span className=\"nweetText\">{`* ${nweetObj.creatorDisplayName} : ${nweetObj.text}`}</span>\r\n        <span className=\"nweetCreatedAt\">\r\n          (\r\n          {`${new Date(nweetObj.createdAt).toLocaleDateString()} ${new Date(\r\n            nweetObj.createdAt\r\n          ).toLocaleTimeString()}`}\r\n          )\r\n        </span>\r\n        {isOwner && (\r\n          <>\r\n            <BoxIcons.BiWindowClose\r\n              className=\"deleteBtn\"\r\n              onClick={onClickDelete}\r\n            />\r\n          </>\r\n        )}\r\n      </div>\r\n      {nweetObj.attachmentUrl && (\r\n        <img className=\"nweetImage\" src={nweetObj.attachmentUrl} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Nweet;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { firebaseFireStore, fireStore } from \"../firebase\";\r\nimport Nweet from \"./Nweet\";\r\n\r\nfunction NweetContainer({ userObj, isProfile }) {\r\n  const [nweets, setNweets] = useState([]);\r\n\r\n  // const getNweetsFromDB = async () => {\r\n  //   const querySnapshot = await firebaseFireStore.getDocs(\r\n  //     firebaseFireStore.collection(fireStore, \"nweets\")\r\n  //   );\r\n  //   querySnapshot.forEach((doc) => {\r\n  //     const nweetObj = {\r\n  //       ...doc.data(),\r\n  //       id: doc.id,\r\n  //     };\r\n\r\n  //     setNweets((prev) => {\r\n  //       return [nweetObj, ...prev];\r\n  //     });\r\n  //   });\r\n  // };\r\n\r\n  useEffect(() => {\r\n    // getNweetsFromDB();\r\n    let q;\r\n    if (!isProfile) {\r\n      q = firebaseFireStore.query(\r\n        firebaseFireStore.collection(fireStore, \"nweets\"),\r\n        firebaseFireStore.orderBy(\"createdAt\")\r\n      );\r\n    } else {\r\n      q = firebaseFireStore.query(\r\n        firebaseFireStore.collection(fireStore, \"nweets\"),\r\n        firebaseFireStore.where(\"creatorId\", \"==\", userObj.uid)\r\n      );\r\n    }\r\n    let newNweets;\r\n    firebaseFireStore.onSnapshot(q, (snapShot) => {\r\n      newNweets = snapShot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n\r\n      // if (!isProfile && newNweets.length > 10) {\r\n      //   const tempNewNweets = newNweets.slice(-10);\r\n      //   newNweets = tempNewNweets;\r\n      // }\r\n      setNweets(newNweets);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"nweetContainer\">\r\n      {nweets.map((nweet) => (\r\n        <Nweet\r\n          key={nweet.id}\r\n          nweetObj={nweet}\r\n          isOwner={userObj && userObj.uid === nweet.creatorId}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NweetContainer;\r\n","import { useHistory } from \"react-router\";\r\nimport { useState } from \"react\";\r\nimport \"./NweetForm.css\";\r\nimport {\r\n  firebaseAppStorage,\r\n  firebaseFireStore,\r\n  firebaseStorage,\r\n  fireStore,\r\n} from \"../firebase\";\r\nimport * as BootstrapIcon from \"react-icons/bs\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nfunction NweetForm({ isLoggedIn, userObj }) {\r\n  const history = useHistory();\r\n  const [nweet, setNweet] = useState(\"\");\r\n  const [isMouseOver, setIsMouseOver] = useState(false);\r\n  const [attachment, setAttachment] = useState(\"\");\r\n\r\n  const theImage = <img src={attachment} className=\"attachedImage\" />;\r\n\r\n  const OnChange = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event;\r\n    setNweet(value);\r\n  };\r\n\r\n  const OnClick = (event) => {\r\n    if (!isLoggedIn) {\r\n      alert(\"Please, Log In\");\r\n      history.push(\"/login\");\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      let attachmentUrl = \"\";\r\n\r\n      if (attachment != \"\") {\r\n        const attachmentRef = firebaseAppStorage.ref(\r\n          firebaseStorage,\r\n          `${userObj.uid}/${uuidv4()}`\r\n        );\r\n\r\n        const response = await firebaseAppStorage.uploadString(\r\n          attachmentRef,\r\n          attachment,\r\n          \"data_url\"\r\n        );\r\n\r\n        attachmentUrl = await firebaseAppStorage.getDownloadURL(response.ref);\r\n      }\r\n\r\n      const nweetObj = {\r\n        text: nweet,\r\n        createdAt: Date.now(),\r\n        creatorDisplayName: userObj.displayName,\r\n        creatorId: userObj.uid,\r\n        attachmentUrl,\r\n      };\r\n\r\n      console.log(nweetObj);\r\n      await firebaseFireStore.addDoc(\r\n        firebaseFireStore.collection(fireStore, \"nweets\"),\r\n        nweetObj\r\n      );\r\n    } catch (e) {\r\n      console.error(\"Error adding document : \" + e);\r\n    }\r\n\r\n    setNweet(\"\");\r\n    setAttachment(\"\");\r\n  };\r\n\r\n  const OnMouseOver = () => {\r\n    setIsMouseOver(true);\r\n  };\r\n\r\n  const OnMouseOut = () => {\r\n    setIsMouseOver(false);\r\n  };\r\n\r\n  const onFileChange = (event) => {\r\n    const {\r\n      target: { files },\r\n    } = event;\r\n\r\n    if (files.length === 0) return;\r\n    const theFile = files[0];\r\n    const reader = new FileReader();\r\n    reader.onloadend = (finishedEvent) => {\r\n      const {\r\n        currentTarget: { result },\r\n      } = finishedEvent;\r\n      setAttachment(result);\r\n    };\r\n    reader.readAsDataURL(theFile);\r\n  };\r\n\r\n  const onClickCancelImage = () => {\r\n    setAttachment(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"nweetForm\">\r\n      <form onSubmit={onSubmit} className=\"form_nweet\">\r\n        <div className=\"inputArea\">\r\n          <textarea\r\n            className=\"input_text\"\r\n            type=\"textarea\"\r\n            placeholder=\"What's in your head now?\"\r\n            required\r\n            value={nweet}\r\n            onChange={OnChange}\r\n            onClick={OnClick}\r\n          />\r\n          {attachment && (\r\n            <>\r\n              {/* <img src={attachment} className=\"attachedImage\" /> */}\r\n              {theImage}\r\n              <button className=\"btn-cancelImage\" onClick={onClickCancelImage}>\r\n                X\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n        <div className=\"form_bottom\">\r\n          <label className=\"label-image\">\r\n            <BootstrapIcon.BsImageAlt className=\"btn_image\" />\r\n            <input\r\n              className=\"input-image\"\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              onChange={onFileChange}\r\n            />\r\n          </label>\r\n          <input\r\n            className={`input_submit ${\r\n              isMouseOver ? \"submit-mouseOver\" : \"submit-mouseOut\"\r\n            }`}\r\n            onMouseOver={OnMouseOver}\r\n            onMouseOut={OnMouseOut}\r\n            type=\"submit\"\r\n          />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NweetForm;\r\n","import React from \"react\";\r\nimport NweetContainer from \"../components/NweetContainer\";\r\nimport NweetForm from \"../components/NweetForm\";\r\nimport \"./Home.css\";\r\nfunction Home({ isLoggedIn, userObj }) {\r\n  return (\r\n    <div>\r\n      <NweetForm isLoggedIn={isLoggedIn} userObj={userObj} />\r\n      <NweetContainer userObj={userObj} isProfile={false} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { firebaseAppAuth, firebaseAuth } from \"../firebase\";\r\nimport \"./Login.css\";\r\n\r\nfunction Login() {\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [isMouseOver, setIsMouseOver] = useState(false);\r\n\r\n  const onChange = (event) => {\r\n    const {\r\n      target: { value, name },\r\n    } = event;\r\n\r\n    if (name === \"email\") {\r\n      setEmail(value);\r\n    } else if (name === \"password\") {\r\n      setPassword(value);\r\n    }\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    firebaseAppAuth\r\n      .signInWithEmailAndPassword(firebaseAuth, email, password)\r\n      .then((user) => {\r\n        history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        setError(error.code);\r\n      });\r\n  };\r\n\r\n  const onClickSocialLogin = (event) => {\r\n    const {\r\n      target: { name },\r\n    } = event;\r\n    let provider;\r\n    if (name === \"google\") {\r\n      provider = new firebaseAppAuth.GoogleAuthProvider();\r\n    } else if (name === \"github\") {\r\n      provider = new firebaseAppAuth.GithubAuthProvider();\r\n    }\r\n\r\n    firebaseAppAuth\r\n      .signInWithPopup(firebaseAuth, provider)\r\n      .then((result) => {\r\n        console.log(result);\r\n        history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        setError(error.code);\r\n      });\r\n  };\r\n\r\n  const onMouseOverLoginBtn = () => {\r\n    setIsMouseOver(true);\r\n  };\r\n  const onMouseOutLoginBtn = () => {\r\n    setIsMouseOver(false);\r\n  };\r\n  return (\r\n    <>\r\n      <form className=\"form_Login\" onSubmit={onSubmit}>\r\n        <input\r\n          className=\"form_input\"\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={onChange}\r\n          required\r\n        />\r\n        <input\r\n          className=\"form_input\"\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={onChange}\r\n          required\r\n        />\r\n        <input\r\n          className={`form_submit ${\r\n            isMouseOver ? \"login-mouseOver\" : \"login-mouseOut\"\r\n          }`}\r\n          type=\"submit\"\r\n          value=\"LogIn\"\r\n          onMouseOver={onMouseOverLoginBtn}\r\n          onMouseOut={onMouseOutLoginBtn}\r\n        />\r\n      </form>\r\n      <div className=\"socialLogins\">\r\n        <button\r\n          className=\"btn-socialLogin\"\r\n          name=\"google\"\r\n          onClick={onClickSocialLogin}\r\n        >\r\n          Continue with Google\r\n        </button>\r\n        <button\r\n          className=\"btn-socialLogin\"\r\n          name=\"github\"\r\n          onClick={onClickSocialLogin}\r\n        >\r\n          Continue with Github\r\n        </button>\r\n      </div>\r\n      <div>{error}</div>\r\n      <div className=\"btn-createAccount\">\r\n        <Link to=\"/createAccount\">Create Account</Link>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport NweetContainer from \"../components/NweetContainer\";\r\nimport {\r\n  firebaseAppAuth,\r\n  firebaseAuth,\r\n  firebaseFireStore,\r\n  fireStore,\r\n} from \"../firebase\";\r\nimport \"./Profile.css\";\r\n\r\nfunction Profile({ userObj }) {\r\n  const history = useHistory();\r\n\r\n  const getMyNweets = async () => {\r\n    const q = firebaseFireStore.query(\r\n      firebaseFireStore.collection(fireStore, \"nweets\"),\r\n      firebaseFireStore.where(\"creatorId\", \"==\", userObj.uid),\r\n      firebaseFireStore.orderBy(\"createdAt\")\r\n    );\r\n\r\n    const querySnapshot = await firebaseFireStore.getDocs(q);\r\n    querySnapshot.forEach((doc) => {\r\n      console.log(doc.data());\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getMyNweets();\r\n  }, []);\r\n\r\n  const onClickLogOut = async () => {\r\n    await firebaseAppAuth.signOut(firebaseAuth);\r\n    alert(\"Logged Out Successfully\");\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"profile\">\r\n        <div className=\"profileName\">\r\n          {userObj && userObj.displayName} Profile\r\n        </div>\r\n        <button onClick={onClickLogOut} className=\"btn-logout\">\r\n          Log Out\r\n        </button>\r\n        <div className=\"myNweets\">My RetroNweets</div>\r\n        <hr className=\"hrLine\"></hr>\r\n        <NweetContainer userObj={userObj} isProfile={true} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./NavBar.css\";\r\n\r\nfunction NavBar({ isLoggedIn }) {\r\n  return (\r\n    <>\r\n      <ul className=\"ul_navBar\">\r\n        <li className=\"li_navBar\">\r\n          <Link to=\"/\" className=\"link_navBar\">\r\n            Retro-Nwitter\r\n          </Link>\r\n        </li>\r\n        <li className=\"li_navBar\">\r\n          {isLoggedIn ? (\r\n            <Link to=\"/profile\" className=\"link_navBar\">\r\n              Profile\r\n            </Link>\r\n          ) : (\r\n            <Link to=\"/login\" className=\"link_navBar\">\r\n              LogIn\r\n            </Link>\r\n          )}\r\n        </li>\r\n      </ul>\r\n      <hr className=\"line_navBar\"></hr>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport CreateAccount from \"../routes/CreateAccount\";\r\nimport Home from \"../routes/Home\";\r\nimport Login from \"../routes/Login\";\r\nimport Profile from \"../routes/Profile\";\r\nimport NavBar from \"./NavBar\";\r\n\r\nconst AppRouter = ({ isLoggedIn, userObj }) => {\r\n  return (\r\n    <>\r\n      <Router>\r\n        <NavBar isLoggedIn={isLoggedIn} />\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Home isLoggedIn={isLoggedIn} userObj={userObj} />\r\n          </Route>\r\n          <Route exact path=\"/profile\">\r\n            <Profile userObj={userObj} />\r\n          </Route>\r\n          <Route exact path=\"/login\">\r\n            <Login />\r\n          </Route>\r\n          <Route exact path=\"/createAccount\">\r\n            <CreateAccount />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import { useEffect, useState } from \"react\";\nimport \"../App.css\";\nimport { firebaseAuth, firebaseAppAuth } from \"../firebase\";\nimport AppRouter from \"./Route\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(firebaseAuth.currentUser);\n  const [userObj, setUserObj] = useState(null);\n  const RegisterAuthStateChangeEvent = () => {\n    firebaseAppAuth.onAuthStateChanged(firebaseAuth, (user) => {\n      setUserObj(user);\n      setIsLoggedIn(user);\n      setInit(true);\n    });\n  };\n\n  useEffect(() => {\n    RegisterAuthStateChangeEvent();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      {init ? (\n        <AppRouter isLoggedIn={isLoggedIn} userObj={userObj} />\n      ) : (\n        <div>Loading...</div>\n      )}\n\n      <footer>&copy; {new Date().getFullYear()} Retro Nwitter</footer>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}